{
  "temporal_split_configuration": {
    "study_period": {
      "start_year": 2018,
      "end_year": 2024,
      "total_years": 7
    },
    "training_period": {
      "years": [2018, 2019, 2020, 2021, 2022],
      "duration_years": 5,
      "start_date": "2018-01-01",
      "end_date": "2022-12-31",
      "purpose": "Model development and training across all federated approaches"
    },
    "testing_period": {
      "years": [2023, 2024],
      "duration_years": 2,
      "start_date": "2023-01-01", 
      "end_date": "2024-12-31",
      "purpose": "Temporal validation and performance evaluation"
    },
    "validation_strategy": {
      "type": "temporal_holdout",
      "rationale": "Tests model robustness against temporal drift and evolving clinical practices",
      "no_data_leakage": true,
      "strict_temporal_order": true
    }
  },
  "approach_specific_splits": {
    "approach1_cross_site": {
      "training_data": {
        "site": "RUSH",
        "years": [2018, 2019, 2020, 2021, 2022],
        "usage": "Full dataset for centralized training"
      },
      "testing_data": {
        "sites": "all_federated_sites",
        "years": [2023, 2024],
        "usage": "Cross-site generalization evaluation"
      }
    },
    "approach2_transfer_learning": {
      "base_model_training": {
        "site": "RUSH",
        "years": [2018, 2019, 2020, 2021, 2022],
        "usage": "Pre-training for transfer learning"
      },
      "fine_tuning": {
        "sites": "all_federated_sites",
        "years": [2018, 2019, 2020, 2021, 2022],
        "data_split": "50% for fine-tuning, 50% reserved",
        "usage": "Site-specific model adaptation"
      },
      "testing_data": {
        "sites": "all_sites",
        "years": [2023, 2024],
        "usage": "Evaluation of fine-tuned models"
      }
    },
    "approach3_independent": {
      "training_data": {
        "sites": "all_federated_sites", 
        "years": [2018, 2019, 2020, 2021, 2022],
        "usage": "Independent training from scratch at each site"
      },
      "testing_data": {
        "sites": "all_sites",
        "years": [2023, 2024],
        "usage": "Evaluation of site-specific models"
      }
    },
    "approach4_round_robin": {
      "sequential_training": {
        "sites": "all_sites_in_order",
        "years": [2018, 2019, 2020, 2021, 2022],
        "epochs_per_site": "10-20",
        "usage": "Collaborative sequential training"
      },
      "testing_data": {
        "sites": "all_sites", 
        "years": [2023, 2024],
        "usage": "Evaluation of collaborative model"
      }
    }
  },
  "stage2_testing": {
    "phase1_cross_site": {
      "models_tested": "approaches_2_3_4",
      "test_data": {
        "sites": "all_sites",
        "years": [2023, 2024],
        "usage": "Cross-site generalization evaluation"
      }
    },
    "phase2_ensemble": {
      "ensemble_construction": {
        "models_used": "all_stage1_models",
        "exclusion_rule": "leave_one_out_per_site",
        "test_data": {
          "sites": "local_only",
          "years": [2023, 2024],
          "usage": "Ensemble evaluation on local test data"
        }
      }
    }
  },
  "data_quality_requirements": {
    "minimum_patients_per_year": {
      "training_years": 50,
      "testing_years": 25
    },
    "required_data_completeness": {
      "vital_signs": 0.80,
      "lab_values": 0.70,
      "outcome_variable": 1.0
    },
    "temporal_consistency_checks": {
      "no_future_data_leakage": true,
      "consistent_time_zones": true,
      "valid_date_ranges": true
    }
  },
  "preprocessing_parameters": {
    "feature_engineering": {
      "aggregation_window": "24_hours",
      "aggregation_methods": ["min", "max", "median", "mean", "std"],
      "outlier_handling": "clip_at_percentiles",
      "missing_value_strategy": "forward_fill_then_median"
    },
    "scaling_strategy": {
      "stage1": "fit_on_training_data",
      "stage2_inference": "fit_on_inference_data",
      "rationale": "Prevent bias from distribution shifts"
    }
  },
  "performance_tracking": {
    "metrics_calculated": [
      "auc_roc",
      "precision", 
      "recall",
      "f1_score",
      "specificity",
      "brier_score",
      "calibration_error"
    ],
    "comparison_baselines": [
      "rush_centralized_model",
      "best_individual_federated_model",
      "simple_average_ensemble"
    ],
    "statistical_testing": {
      "significance_level": 0.05,
      "multiple_comparison_correction": "bonferroni",
      "bootstrap_iterations": 1000
    }
  },
  "success_criteria": {
    "individual_model_performance": {
      "minimum_auc": 0.70,
      "target_auc": 0.80
    },
    "cross_site_generalization": {
      "maximum_performance_drop": 0.10,
      "target_performance_drop": 0.05
    },
    "ensemble_improvement": {
      "minimum_improvement": 0.01,
      "target_improvement": 0.03,
      "statistical_significance": "required"
    },
    "temporal_stability": {
      "maximum_2023_2024_drop": 0.05,
      "target_stability": 0.02
    }
  }
}